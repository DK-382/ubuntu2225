### 相机硬件配置说明

### 表格1：基本数据

海康2D工业相机的管脚定义和信号源的详细表格：

| 管脚 | 信号     | I/O信号源 | 说明             | 线缆颜色 |
| ---- | -------- | --------- | ---------------- | -------- |
| 1    | DC_PWR   | –         | 相机电源         | 橙       |
| 2    | OPTO_IN  | Line 0+   | 光耦隔离输入     | 黄       |
| 3    | GPIO     | Line 2    | 可配置输入或输出 | 紫       |
| 4    | OPTO_OUT | Line 1+   | 光耦隔离输出     | 蓝       |
| 5    | OPTO_GND | Line 0/1- | 光耦隔离信号地   | 绿       |
| 6    | GND      | Line 2-   | 相机电源地       | 灰       |

表格线缆颜色，根据海康标配6pin线缆绘制，第三方线缆，自行根据线标对应。

### 表格2：信号对应关系为准

| 序号 | 相机信号名称 | 相机线缆颜色及描述     | 光源描述及颜色     | 接线说明   |
| ---- | ------------ | ---------------------- | ------------------ | ---------- |
| 1    | DC_PWR       | 橙色，相机电源         | 蓝色，光源电源     | 24V        |
| 2    | OPTO_OUT     | 蓝色，光耦隔离输出     | 黑色，光源信号GND  | 端对端连接 |
| 3    | OPTO_GND     | 绿色，光耦隔离信号地   |                    | 0V         |
| 4    | GND          | 灰色，相机电源地GND    |                    | 0V         |
| 5    | OPTO_IN      | 黄色，光耦隔离输入     | (红色，屏蔽信号线) | 不接       |
| 6    | GPIO         | 紫色，可配置输入或输出 |                    | 不接       |



### 相机触发

对于海康2D工业相机使用strobe输出，配合频闪光源拍摄，以及IO输出跟随曝光同步的需求，如下说明和建议：

1. **触发输出信号选择**：海康相机支持触发输出功能，其中Line 1可以被配置为光耦隔离输出，用于控制外部设备如频闪光源。你可以通过Digital IO Control属性下的Line Selector参数来选择Line 1作为输出信号。

2. **Strobe信号设置**：在触发输出中，Strobe信号可以用来控制外部设备的启动，如频闪光源。你可以设置Strobe信号的事件源为相机开始曝光（Exposure Active），这样每当相机开始曝光时，就会输出一个Strobe信号给外部设备。此外，Strobe信号的持续时间（Strobe Line Duration）、输出延迟（Strobe Line Pre Delay）和预输出时间（Strobe Line Pre Delay）都可以在相机的Digital IO Control属性中进行设置。

3. **同步曝光**：为了确保IO输出与曝光周期同步，你需要在相机的Acquisition Control属性中设置合适的采集模式和触发模式。如果使用外部触发源，确保Trigger Mode设置为On，并且选择正确的触发源（例如Line 0）。

4. **硬件触发**：如果相机需要响应外部触发信号进行拍摄，你可以将相机设置为硬件触发模式。在硬件触发模式下，相机会等待外部设备通过Line 0发送触发信号，然后开始曝光和采集图像。

5. **I/O电气特性**：连接外部设备时，考虑相机I/O端口的电气特性，确保外部设备的电气规格与相机端口兼容。例如，Line 0作为输入时，其逻辑高电平范围是1.5~24 VDC，而Line 1作为输出时，逻辑高电平是3.3 V。

6. **常见问题排查**：如果在设置过程中遇到问题，可以参考海康提供的常见问题及解决方法，例如检查相机的网络连接、驱动安装情况、相机固件版本等。

通过上述步骤，可以配置海康2D工业相机的硬件输出，以实现与频闪光源的同步拍摄。记得在实际操作中仔细阅读相机的用户手册，以确保正确设置各个参数。

### 步骤

配置海康2D工业相机的IO输出与曝光同步：

1. **选择信号源**：在相机的IO设置中，选择Line1作为输入信号源。

2. **设置Line Mode**：将Line Mode设置为Strobe，这是用于控制外部设备的闪光灯模式。

3. **测试Line Inverter**：点击Line Inverter测试电平变化，确保接线正确。

4. **配置事件源**：将Line Source设置为Exposure Start Active，使输出信号与曝光开始同步。

5. **设置信号时序**：
   - Strobe Line Duration：设置信号持续时间，0表示持续整个曝光时间。
   - Strobe Line Delay：设置曝光开始后的延时输出时间。
   - Strobe Line Pre Delay：设置提前输出时间，即曝光延后开始的时间。

6. **使能输出**：启用Strobe Enable，允许IO输出跟随曝光信号。

7. **保存配置**：用户设置选项与默认用户设置选择User Set 1，选择用户设置并保存，以便后续使用。

完成这些步骤后，相机的IO输出将与曝光周期同步，适用于需要精确控制外部光源的场景。

